{
  "id": "wf-PMXW6XGEf7lHcDNnuh9Qa",
  "type": "flow",
  "version": "0.5.8",
  "storageId": "wf-PMXW6XGEf7lHcDNnuh9Qa",
  "name": "On-boarding",
  "description": "Sequential Chats and Customer Onboarding",
  "tags": [
    "Sequential",
    "Customer",
    "On-boarding",
    "Onboarding"
  ],
  "requirements": [],
  "createdAt": "2025-05-13T17:13:16.174Z",
  "updatedAt": "2025-05-31T15:42:02.082Z",
  "data": {
    "nodes": [
      {
        "id": "wt-1747156399822sVYQN6gP7MfakZrh1PeoE",
        "type": "model",
        "position": {
          "x": 0,
          "y": 10
        },
        "measured": {
          "width": 182,
          "height": 182
        },
        "selected": false,
        "hidden": true,
        "className": ""
      },
      {
        "id": "wt-1747156596117Ev5hW8VuHKdeHpHL9BpGa",
        "type": "model",
        "position": {
          "x": 240,
          "y": 10
        },
        "measured": {
          "width": 182,
          "height": 182
        },
        "selected": false,
        "hidden": true,
        "className": ""
      },
      {
        "id": "wa-17471570702041449mVlghDw-1N6htql8f",
        "type": "agent",
        "style": {
          "width": 130
        },
        "position": {
          "x": 585,
          "y": 210
        },
        "measured": {
          "width": 200,
          "height": 211
        },
        "selected": false,
        "dragging": false,
        "className": "",
        "hidden": false
      },
      {
        "id": "wa-1747156452757IU0q1SGFT9W6PLnAWkHvW",
        "type": "agent",
        "style": {
          "width": 180
        },
        "position": {
          "x": 975,
          "y": 150
        },
        "hidden": false,
        "measured": {
          "width": 200,
          "height": 215
        },
        "selected": true,
        "dragging": false,
        "className": ""
      },
      {
        "id": "wa-1747156458235hNFYOShslvNDfhE2jtR4V",
        "type": "agent",
        "style": {
          "width": 180
        },
        "position": {
          "x": 585,
          "y": 600
        },
        "measured": {
          "width": 200,
          "height": 215
        },
        "hidden": false,
        "selected": false,
        "dragging": false,
        "className": ""
      },
      {
        "id": "1747156782114_RZ2qtDdOC0P4DRseYcSJ",
        "type": "agent",
        "style": {
          "width": 180
        },
        "position": {
          "x": 165,
          "y": 240
        },
        "hidden": false,
        "measured": {
          "width": 200,
          "height": 215
        },
        "selected": false,
        "dragging": false,
        "className": ""
      }
    ],
    "edges": [
      {
        "id": "we-1747157103085uza2B-fHxE1pahit4ztNY",
        "source": "1747156782114_RZ2qtDdOC0P4DRseYcSJ",
        "target": "wa-17471570702041449mVlghDw-1N6htql8f",
        "type": "chat",
        "hidden": false,
        "animated": false,
        "selected": false,
        "markerEnd": {
          "type": "arrowclosed",
          "color": "#66bc57",
          "width": 10,
          "height": 10
        },
        "style": {
          "stroke": "#66bc57",
          "strokeWidth": 1
        },
        "sourceHandle": "agent-handle-right-source-1747156782114_RZ2qtDdOC0P4DRseYcSJ",
        "targetHandle": "agent-handle-left-target-wa-17471570702041449mVlghDw-1N6htql8f"
      },
      {
        "id": "we-1747157109516pM58U1Q5Qgmh4TBJsmBw6",
        "source": "wa-1747156458235hNFYOShslvNDfhE2jtR4V",
        "target": "wa-17471570702041449mVlghDw-1N6htql8f",
        "type": "chat",
        "hidden": false,
        "animated": false,
        "selected": false,
        "markerEnd": {
          "type": "arrowclosed",
          "color": "#66bc57",
          "width": 10,
          "height": 10
        },
        "style": {
          "stroke": "#66bc57",
          "strokeWidth": 1
        },
        "sourceHandle": "agent-handle-top-source-wa-1747156458235hNFYOShslvNDfhE2jtR4V",
        "targetHandle": "agent-handle-bottom-target-wa-17471570702041449mVlghDw-1N6htql8f"
      },
      {
        "id": "we-1747157142116pBQ9B77EMdg0pc7RyGBRE",
        "source": "wa-17471570702041449mVlghDw-1N6htql8f",
        "target": "wa-1747156452757IU0q1SGFT9W6PLnAWkHvW",
        "type": "chat",
        "hidden": false,
        "animated": false,
        "selected": false,
        "markerEnd": {
          "type": "arrowclosed",
          "color": "#bc76f5",
          "width": 10,
          "height": 10
        },
        "style": {
          "stroke": "#bc76f5",
          "strokeWidth": 1
        },
        "sourceHandle": "agent-handle-right-source-wa-17471570702041449mVlghDw-1N6htql8f",
        "targetHandle": "agent-handle-left-target-wa-1747156452757IU0q1SGFT9W6PLnAWkHvW"
      }
    ],
    "viewport": {
      "x": 50.87593984962405,
      "y": -77.72180451127821,
      "zoom": 0.924812030075188
    },
    "agents": {
      "groupManagerAgents": [],
      "userProxyAgents": [
        {
          "type": "agent",
          "name": "customer_proxy",
          "description": "A new User proxy agent",
          "tags": [],
          "requirements": [],
          "createdAt": "2025-05-13T17:24:30.205Z",
          "updatedAt": "2025-05-13T17:24:30.205Z",
          "data": {
            "systemMessage": null,
            "humanInputMode": "ALWAYS",
            "codeExecutionConfig": false,
            "agentDefaultAutoReply": null,
            "maxConsecutiveAutoReply": null,
            "termination": {
              "type": "none",
              "keywords": [],
              "criterion": null,
              "methodContent": null
            },
            "modelIds": [],
            "tools": [],
            "nestedChats": [
              {
                "messages": [],
                "triggeredBy": [],
                "condition": {
                  "conditionType": "string_llm",
                  "prompt": ""
                },
                "available": {
                  "type": "none",
                  "value": ""
                }
              }
            ],
            "handoffs": [],
            "contextVariables": {},
            "updateAgentStateBeforeReply": [],
            "afterWork": null
          },
          "id": "wa-17471570702041449mVlghDw-1N6htql8f",
          "agentType": "user_proxy"
        }
      ],
      "assistantAgents": [
        {
          "type": "agent",
          "name": "customer_engagement_agent",
          "description": "A customer_engagement_agent agent.",
          "tags": [],
          "requirements": [],
          "createdAt": "2025-05-13T17:14:12.757Z",
          "updatedAt": "2025-05-13T17:14:12.757Z",
          "data": {
            "systemMessage": "You are a helpful customer service agent here to provide fun for the customer based on the user's personal information and topic preferences. This could include fun facts, jokes, or interesting stories. Make sure to make it engaging and fun! Return 'TERMINATE' when you are done.",
            "humanInputMode": "NEVER",
            "codeExecutionConfig": false,
            "agentDefaultAutoReply": null,
            "maxConsecutiveAutoReply": null,
            "termination": {
              "type": "keyword",
              "keywords": [
                "TERMINATE"
              ],
              "criterion": "exact",
              "methodContent": ""
            },
            "modelIds": [
              "wt-1747156596117Ev5hW8VuHKdeHpHL9BpGa"
            ],
            "tools": [],
            "nestedChats": [
              {
                "messages": [],
                "triggeredBy": [],
                "condition": {
                  "conditionType": "string_llm",
                  "prompt": ""
                },
                "available": {
                  "type": "none",
                  "value": ""
                }
              }
            ],
            "handoffs": [],
            "contextVariables": {},
            "updateAgentStateBeforeReply": [],
            "afterWork": null,
            "isMultimodal": false
          },
          "id": "wa-1747156452757IU0q1SGFT9W6PLnAWkHvW",
          "agentType": "assistant"
        },
        {
          "type": "agent",
          "name": "topic_preference_agent",
          "description": "A topic preference agent",
          "tags": [],
          "requirements": [],
          "createdAt": "2025-05-13T17:14:18.235Z",
          "updatedAt": "2025-05-13T17:14:18.235Z",
          "data": {
            "systemMessage": "You are a helpful customer service agent here to provide fun for the customer based on the user's personal information and topic preferences. This could include fun facts, jokes, or interesting stories. Make sure to make it engaging and fun! Return 'TERMINATE' when you are done.",
            "humanInputMode": "NEVER",
            "codeExecutionConfig": false,
            "agentDefaultAutoReply": null,
            "maxConsecutiveAutoReply": null,
            "termination": {
              "type": "keyword",
              "keywords": [
                "TERMINATE"
              ],
              "criterion": "exact",
              "methodContent": ""
            },
            "modelIds": [
              "wt-1747156399822sVYQN6gP7MfakZrh1PeoE"
            ],
            "tools": [],
            "nestedChats": [
              {
                "messages": [],
                "triggeredBy": [],
                "condition": {
                  "conditionType": "string_llm",
                  "prompt": ""
                },
                "available": {
                  "type": "none",
                  "value": ""
                }
              }
            ],
            "handoffs": [],
            "contextVariables": {},
            "updateAgentStateBeforeReply": [],
            "afterWork": null,
            "isMultimodal": false
          },
          "id": "wa-1747156458235hNFYOShslvNDfhE2jtR4V",
          "agentType": "assistant"
        },
        {
          "type": "agent",
          "name": "personal_information_agent",
          "description": "A customer on-boarding agent.",
          "tags": [],
          "requirements": [],
          "createdAt": "2025-05-13T17:14:12.757Z",
          "updatedAt": "2025-05-13T17:14:12.757Z",
          "data": {
            "systemMessage": "You are a helpful customer on-boarding agent, you are here to help new customers get started with our product. Your job is to gather customer's name and location. Do not ask for other information. Return 'TERMINATE' when you have gathered all the information.",
            "humanInputMode": "NEVER",
            "codeExecutionConfig": false,
            "agentDefaultAutoReply": null,
            "maxConsecutiveAutoReply": null,
            "termination": {
              "type": "keyword",
              "keywords": [
                "TERMINATE"
              ],
              "criterion": "exact",
              "methodContent": ""
            },
            "modelIds": [
              "wt-1747156399822sVYQN6gP7MfakZrh1PeoE"
            ],
            "tools": [],
            "nestedChats": [
              {
                "messages": [],
                "triggeredBy": [],
                "condition": {
                  "conditionType": "string_llm",
                  "prompt": ""
                },
                "available": {
                  "type": "none",
                  "value": ""
                }
              }
            ],
            "handoffs": [],
            "contextVariables": {},
            "updateAgentStateBeforeReply": [],
            "afterWork": null,
            "isMultimodal": false
          },
          "id": "1747156782114_RZ2qtDdOC0P4DRseYcSJ",
          "agentType": "assistant"
        }
      ],
      "ragUserProxyAgents": [],
      "reasoningAgents": [],
      "captainAgents": [],
      "docAgents": []
    },
    "models": [
      {
        "id": "wt-1747156399822sVYQN6gP7MfakZrh1PeoE",
        "type": "model",
        "name": "claude-3-7-sonnet-20250219",
        "description": "A new model",
        "tags": [],
        "requirements": [],
        "createdAt": "2025-05-13T17:13:19.822Z",
        "updatedAt": "2025-05-13T18:39:29.291Z",
        "data": {
          "apiKey": "REPLACE_ME",
          "apiType": "anthropic",
          "apiVersion": null,
          "baseUrl": null,
          "temperature": null,
          "topP": null,
          "maxTokens": null,
          "aws": {
            "region": "REPLACE_ME",
            "accessKey": "REPLACE_ME",
            "secretKey": "REPLACE_ME",
            "sessionToken": "REPLACE_ME",
            "profileName": "REPLACE_ME"
          },
          "extras": {},
          "defaultHeaders": {},
          "price": {
            "promptPricePer1k": null,
            "completionTokenPricePer1k": null
          }
        }
      },
      {
        "id": "wt-1747156596117Ev5hW8VuHKdeHpHL9BpGa",
        "type": "model",
        "name": "gpt-3.5-turbo",
        "description": "A new model",
        "tags": [],
        "requirements": [],
        "createdAt": "2025-05-13T17:16:36.117Z",
        "updatedAt": "2025-05-13T18:39:09.707Z",
        "data": {
          "apiKey": "REPLACE_ME",
          "apiType": "openai",
          "apiVersion": null,
          "baseUrl": null,
          "temperature": null,
          "topP": null,
          "maxTokens": null,
          "aws": {
            "region": "REPLACE_ME",
            "accessKey": "REPLACE_ME",
            "secretKey": "REPLACE_ME",
            "sessionToken": "REPLACE_ME",
            "profileName": "REPLACE_ME"
          },
          "extras": {},
          "defaultHeaders": {},
          "price": {
            "promptPricePer1k": null,
            "completionTokenPricePer1k": null
          }
        }
      }
    ],
    "tools": [],
    "chats": [
      {
        "id": "we-1747157103085uza2B-fHxE1pahit4ztNY",
        "type": "chat",
        "source": "1747156782114_RZ2qtDdOC0P4DRseYcSJ",
        "target": "wa-17471570702041449mVlghDw-1N6htql8f",
        "data": {
          "sourceType": "assistant",
          "targetType": "user_proxy",
          "name": "personal_inform => customer_proxy",
          "order": 0,
          "description": "The personal information agent asks for the user details, like name and location.",
          "position": 1,
          "clearHistory": true,
          "maxTurns": 1,
          "message": {
            "type": "string",
            "content": "Hello, I'm here to help you get started with our product. Could you tell me your name and location?",
            "context": {},
            "useCarryover": false
          },
          "summary": {
            "method": "reflectionWithLlm",
            "prompt": "Return the customer information into as JSON object only: {'name': '', 'location': ''}",
            "args": {
              "summary_role": "user"
            }
          },
          "nestedChat": {
            "message": null,
            "reply": null
          },
          "prerequisites": [],
          "condition": {
            "conditionType": "string_llm",
            "prompt": "Handoff to another agent"
          },
          "available": {
            "type": "none",
            "value": ""
          },
          "afterWork": null,
          "silent": false,
          "realSource": null,
          "realTarget": null
        }
      },
      {
        "id": "we-1747157109516pM58U1Q5Qgmh4TBJsmBw6",
        "type": "chat",
        "source": "wa-1747156458235hNFYOShslvNDfhE2jtR4V",
        "target": "wa-17471570702041449mVlghDw-1N6htql8f",
        "data": {
          "sourceType": "assistant",
          "targetType": "user_proxy",
          "name": "topic_preferenc => customer_proxy",
          "order": 1,
          "description": "The topic preference agent asks the user about their topics of interest.",
          "position": 2,
          "clearHistory": true,
          "maxTurns": 1,
          "message": {
            "type": "string",
            "content": "Great! Could you tell me what topics you are interested in reading about?",
            "context": {},
            "useCarryover": false
          },
          "summary": {
            "method": "reflectionWithLlm",
            "prompt": "Return the customer information into as JSON object only: {'topic_of_interest': ''}",
            "args": {
              "summary_role": "user"
            }
          },
          "nestedChat": {
            "message": null,
            "reply": null
          },
          "prerequisites": [],
          "condition": {
            "conditionType": "string_llm",
            "prompt": "Handoff to another agent"
          },
          "available": {
            "type": "none",
            "value": ""
          },
          "afterWork": null,
          "silent": false,
          "realSource": null,
          "realTarget": null
        }
      },
      {
        "id": "we-1747157142116pBQ9B77EMdg0pc7RyGBRE",
        "type": "chat",
        "source": "wa-17471570702041449mVlghDw-1N6htql8f",
        "target": "wa-1747156452757IU0q1SGFT9W6PLnAWkHvW",
        "data": {
          "sourceType": "user_proxy",
          "targetType": "assistant",
          "name": "customer_proxy => customer_engage",
          "order": 2,
          "description": "The customer proxy agent passes the gathered information to the customer engagement agent.",
          "position": 3,
          "clearHistory": true,
          "maxTurns": 1,
          "message": {
            "type": "string",
            "content": "Let's find something fun to read.",
            "context": {},
            "useCarryover": false
          },
          "summary": {
            "method": "lastMsg",
            "prompt": "",
            "args": {}
          },
          "nestedChat": {
            "message": null,
            "reply": null
          },
          "prerequisites": [],
          "condition": {
            "conditionType": "string_llm",
            "prompt": "Handoff to another agent"
          },
          "available": {
            "type": "none",
            "value": ""
          },
          "afterWork": null,
          "silent": false,
          "realSource": null,
          "realTarget": null
        }
      }
    ],
    "isAsync": false,
    "cacheSeed": null,
    "silent": false
  }
}